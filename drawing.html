<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structural Engineering Drawing - Irrigation Canal Cross-Section</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0b6faa',
                        primaryDark: '#084b75',
                        secondary: '#0d9270',
                        accent: '#f59e0b',
                        blueprint: '#0b6faa',
                        drawing: '#f8fafc',
                        gridline: '#e2e8f0',
                        rebar: '#374151',
                        concrete: '#9ca3af',
                        steel: '#4b5563',
                        soil: '#a8a29e'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #f1f5f9;
            font-family: 'Arial', sans-serif;
        }
        .drawing-container {
            background-image: 
                linear-gradient(rgba(248, 250, 252, 0.9), rgba(248, 250, 252, 0.9)),
                linear-gradient(90deg, #e2e8f0 1px, transparent 1px),
                linear-gradient(#e2e8f0 1px, transparent 1px);
            background-size: 100% 100%, 20px 20px, 20px 20px;
        }
        .water-flow {
            animation: flow 15s linear infinite;
        }
        @keyframes flow {
            0% { background-position: 0 0; }
            100% { background-position: 100px 0; }
        }
        .soil-texture {
            background: linear-gradient(45deg, #a8a29e 25%, #9c928a 25%, #9c928a 50%, #a8a29e 50%, #a8a29e 75%, #9c928a 75%, #9c928a 100%);
            background-size: 20px 20px;
        }
        .annotation-line {
            stroke-dasharray: 5;
            animation: dash 20s linear infinite;
        }
        @keyframes dash {
            to {
                stroke-dashoffset: 1000;
            }
        }
        .tool-btn {
            transition: all 0.3s ease;
            background-color: #f8fafc;
            border: 1px solid #cbd5e1;
        }
        .tool-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            background-color: #0b6faa;
            color: white;
        }
        .engineering-drawing {
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15));
        }
        .responsive-svg {
            width: 100%;
            height: auto;
        }
        .rebar-pattern {
            background-image: 
                linear-gradient(to right, #374151 1px, transparent 1px),
                linear-gradient(to bottom, #374151 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .concrete-aggregate {
            background-image: 
                radial-gradient(circle, #9ca3af 1px, transparent 1px);
            background-size: 10px 10px;
            background-color: #f3f4f6;
        }
        .element-highlight {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .element-highlight:hover {
            filter: brightness(1.2);
            stroke: #f59e0b;
            stroke-width: 3;
        }
        .info-tooltip {
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .element-highlight:hover + .info-tooltip {
            opacity: 1;
        }
        .zoom-controls {
            transition: all 0.3s ease;
        }
        .zoom-controls button:hover {
            background-color: #0b6faa;
            color: white;
        }
        .section-view {
            border-left: 2px dashed #0b6faa;
            padding-left: 1rem;
            margin-left: 1rem;
        }
        .detail-view {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.98);
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        .detail-view.active {
            opacity: 1;
            pointer-events: all;
        }
        .layer-panel {
            position: absolute;
            top: 120px;
            right: 20px;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 10;
            width: 200px;
            border: 1px solid #cbd5e1;
        }
        .download-options {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 10;
            border: 1px solid #cbd5e1;
        }
        .engineering-table {
            width: 100%;
            border-collapse: collapse;
        }
        .engineering-table th, .engineering-table td {
            border: 1px solid #cbd5e1;
            padding: 8px 12px;
            text-align: left;
        }
        .engineering-table th {
            background-color: #f1f5f9;
            font-weight: 600;
        }
        @media print {
            body * {
                visibility: hidden;
            }
            .print-container, .print-container * {
                visibility: visible;
            }
            .print-container {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            .no-print {
                display: none;
            }
        }
        @media (max-width: 768px) {
            .drawing-container {
                padding: 1rem;
            }
            .engineering-drawing {
                transform: scale(0.9);
            }
            .toolbar {
                flex-wrap: wrap;
                gap: 0.5rem;
            }
            .tool-btn {
                padding: 0.5rem;
                font-size: 0.8rem;
            }
        }
        @media (max-width: 480px) {
            .engineering-drawing {
                transform: scale(0.8);
            }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blueprint to-blue-900 text-white py-4 px-6 shadow-md no-print">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <div class="bg-white p-2 rounded-lg mr-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blueprint" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div>
                    <h1 class="text-2xl font-bold">Structural Engineering Drawing</h1>
                    <p class="text-sm text-blue-100">Irrigation Canal Cross-Section</p>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <span class="text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full">DOH/WRE/2025/019</span>
                <button onclick="printDrawing()" class="bg-white text-blueprint px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition">
                    <i class="fas fa-print mr-2"></i>Print Drawing
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 container mx-auto px-4 py-8 print-container">
        <div class="bg-drawing rounded-xl shadow-lg overflow-hidden mb-8 border border-gridline">
            <div class="p-6 border-b border-gridline bg-gradient-to-r from-blue-50 to-blue-100">
                <h2 class="text-xl font-semibold text-gray-800">Irrigation Canal Cross-Section - Detailed Engineering Drawing</h2>
                <div class="flex flex-wrap justify-between items-center mt-2">
                    <p class="text-gray-600">Scale: 1:50 | Doha, Qatar - 25.2km Total Length | Date: 18 Aug 2025</p>
                    <div class="flex items-center space-x-4">
                        <span class="text-sm bg-white px-2 py-1 rounded border border-gridline">Revision: B</span>
                        <span class="text-sm bg-white px-2 py-1 rounded border border-gridline">Status: For Construction</span>
                    </div>
                </div>
            </div>
            
            <!-- Drawing Tools -->
            <div class="bg-gray-100 px-6 py-4 flex flex-wrap gap-3 toolbar no-print border-b border-gridline">
                <button class="tool-btn px-4 py-2 rounded-lg text-sm font-medium shadow-sm" id="selectTool">
                    <i class="fas fa-mouse-pointer mr-2"></i>Select
                </button>
                <button class="tool-btn px-4 py-2 rounded-lg text-sm font-medium shadow-sm" id="measureTool">
                    <i class="fas fa-ruler-combined mr-2"></i>Measure
                </button>
                <button class="tool-btn px-4 py-2 rounded-lg text-sm font-medium shadow-sm" id="layersTool">
                    <i class="fas fa-layer-group mr-2"></i>Layers
                </button>
                <button class="tool-btn px-4 py-2 rounded-lg text-sm font-medium shadow-sm" id="sectionsTool">
                    <i class="fas fa-cube mr-2"></i>Sections
                </button>
                <div class="ml-auto flex items-center space-x-4 flex-wrap">
                    <span class="text-sm text-gray-600">Layers:</span>
                    <label class="flex items-center space-x-2">
                        <input type="checkbox" checked class="layer-toggle" data-layer="structural">
                        <span>Structural</span>
                    </label>
                    <label class="flex items-center space-x-2">
                        <input type="checkbox" checked class="layer-toggle" data-layer="hydraulic">
                        <span>Hydraulic</span>
                    </label>
                </div>
            </div>
            
            <!-- Drawing Canvas -->
            <div class="p-6 drawing-container min-h-[600px] flex justify-center items-center">
                <div class="engineering-drawing relative w-full max-w-5xl h-[550px]">
                    <!-- Zoom Controls -->
                    <div class="absolute top-4 right-4 bg-white rounded-lg shadow-md p-2 flex flex-col zoom-controls no-print border border-gridline">
                        <button class="p-2 text-gray-700 hover:bg-gray-100 rounded" onclick="zoomIn()">
                            <i class="fas fa-search-plus"></i>
                        </button>
                        <button class="p-2 text-gray-700 hover:bg-gray-100 rounded" onclick="zoomOut()">
                            <i class="fas fa-search-minus"></i>
                        </button>
                        <button class="p-2 text-gray-700 hover:bg-gray-100 rounded" onclick="resetZoom()">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    
                    <!-- Main Canal Structure -->
                    <svg class="w-full h-full responsive-svg" viewBox="0 0 1200 700" preserveAspectRatio="xMidYMid meet" id="mainDrawing">
                        <!-- Grid Lines -->
                        <g opacity="0.2" stroke="#e2e8f0" stroke-width="1">
                            <!-- Horizontal grid lines -->
                            <line x1="0" y1="100" x2="1200" y2="100" />
                            <line x1="0" y1="200" x2="1200" y2="200" />
                            <line x1="0" y1="300" x2="1200" y2="300" />
                            <line x1="0" y1="400" x2="1200" y2="400" />
                            <line x1="0" y1="500" x2="1200" y2="500" />
                            <line x1="0" y1="600" x2="1200" y2="600" />
                            
                            <!-- Vertical grid lines -->
                            <line x1="100" y1="0" x2="100" y2="700" />
                            <line x1="200" y1="0" x2="200" y2="700" />
                            <line x1="300" y1="0" x2="300" y2="700" />
                            <line x1="400" y1="0" x2="400" y2="700" />
                            <line x1="500" y1="0" x2="500" y2="700" />
                            <line x1="600" y1="0" x2="600" y2="700" />
                            <line x1="700" y1="0" x2="700" y2="700" />
                            <line x1="800" y1="0" x2="800" y2="700" />
                            <line x1="900" y1="0" x2="900" y2="700" />
                            <line x1="1000" y1="0" x2="1000" y2="700" />
                            <line x1="1100" y1="0" x2="1100" y2="700" />
                        </g>
                        
                        <!-- Soil Background -->
                        <rect x="0" y="450" width="1200" height="250" class="soil-texture" />
                        
                        <!-- Compacted Sub-base -->
                        <rect x="100" y="430" width="1000" height="20" fill="#a1887f" stroke="#8d6e63" stroke-width="1" />
                        
                        <!-- Gravel Drainage Layer -->
                        <rect x="100" y="410" width="1000" height="20" fill="#78909c" stroke="#546e7a" stroke-width="1" />
                        
                        <!-- Canal Base -->
                        <path d="M150,410 L1050,410" stroke="#6d4c41" stroke-width="8" />
                        
                        <!-- Canal Walls with realistic concrete texture -->
                        <path d="M150,410 L150,200 C150,180 180,160 220,160 L980,160 C1020,160 1050,180 1050,200 L1050,410" 
                              stroke="#5a5a5a" stroke-width="4" fill="url(#concretePattern)" class="element-highlight" id="canalWalls" />
                        
                        <!-- Concrete Texture Details -->
                        <rect x="160" y="170" width="880" height="230" fill="url(#concreteAggregate)" opacity="0.2" />
                        
                        <!-- HDPE Lining with realistic appearance -->
                        <path d="M150,200 C150,180 180,160 220,160 L980,160 C1020,160 1050,180 1050,200" 
                              stroke="#0ea5e9" stroke-width="4" stroke-dasharray="6,4" fill="url(#hdpePattern)" class="element-highlight" id="hdpeLining" />
                        
                        <!-- Water Flow with gradient and animation -->
                        <path d="M150,320 C150,300 180,280 220,280 L980,280 C1020,280 1050,300 1050,320" 
                              stroke="url(#waterGradient)" stroke-width="40" fill="none" class="water-flow element-highlight" id="waterFlow" />
                        
                        <!-- Water Surface -->
                        <path d="M150,300 C150,280 180,260 220,260 L980,260 C1020,260 1050,280 1050,300" 
                              fill="url(#waterSurface)" opacity="0.7" />
                        
                        <!-- Reinforcement Bars -->
                        <g class="reinforcement-layer">
                            <!-- Vertical rebars -->
                            <line x1="250" y1="410" x2="250" y2="200" stroke="#374151" stroke-width="4" class="element-highlight" id="rebar1" />
                            <line x1="450" y1="410" x2="450" y2="200" stroke="#374151" stroke-width="4" class="element-highlight" id="rebar2" />
                            <line x1="650" y1="410" x2="650" y2="200" stroke="#374151" stroke-width="4" class="element-highlight" id="rebar3" />
                            <line x1="850" y1="410" x2="850" y2="200" stroke="#374151" stroke-width="4" class="element-highlight" id="rebar4" />
                            
                            <!-- Horizontal rebars -->
                            <line x1="150" y1="250" x2="1050" y2="250" stroke="#374151" stroke-width="3" class="element-highlight" id="rebarH1" />
                            <line x1="150" y1="300" x2="1050" y2="300" stroke="#374151" stroke-width="3" class="element-highlight" id="rebarH2" />
                            <line x1="150" y1="350" x2="1050" y2="350" stroke="#374151" stroke-width="3" class="element-highlight" id="rebarH3" />
                            
                            <!-- Rebar ties -->
                            <circle cx="250" cy="250" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="250" cy="300" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="250" cy="350" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="450" cy="250" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="450" cy="300" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="450" cy="350" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="650" cy="250" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="650" cy="300" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="650" cy="350" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="850" cy="250" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="850" cy="300" r="5" fill="#374151" class="element-highlight" />
                            <circle cx="850" cy="350" r="5" fill="#374151" class="element-highlight" />
                        </g>
                        
                        <!-- Regulation Gate with realistic details -->
                        <g class="regulation-gate element-highlight" id="regulationGate">
                            <!-- Gate Structure -->
                            <rect x="575" y="160" width="50" height="250" fill="url(#steelPattern)" stroke="#1e293b" stroke-width="2" />
                            
                            <!-- Gate Guides -->
                            <rect x="565" y="160" width="10" height="250" fill="#94a3b8" stroke="#64748b" stroke-width="1" />
                            <rect x="640" y="160" width="10" height="250" fill="#94a3b8" stroke="#64748b" stroke-width="1" />
                            
                            <!-- Gate Operator -->
                            <rect x="580" y="80" width="40" height="80" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="1" />
                            <circle cx="600" cy="100" r="8" fill="#3b82f6" />
                            <circle cx="620" cy="100" r="8" fill="#10b981" />
                            
                            <!-- Control Wiring -->
                            <path d="M600,80 L600,50 L550,50 L550,30" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4,2" />
                        </g>
                        
                        <!-- Flow Measurement Device -->
                        <g class="flow-meter element-highlight" id="flowMeter">
                            <!-- Meter Housing -->
                            <rect x="750" y="280" width="60" height="40" rx="5" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="1" />
                            
                            <!-- Sensor Probes -->
                            <line x1="740" y1="290" x2="750" y2="290" stroke="#3b82f6" stroke-width="2" />
                            <line x1="740" y1="310" x2="750" y2="310" stroke="#3b82f6" stroke-width="2" />
                            
                            <!-- Display -->
                            <rect x="755" y="285" width="50" height="30" fill="#1e40af" opacity="0.8" />
                            <text x="780" y="303" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">5.2 m³/s</text>
                        </g>
                        
                        <!-- Pipeline Connection -->
                        <g class="pipeline-connection element-highlight" id="pipeline">
                            <!-- Pipe -->
                            <rect x="300" y="280" width="120" height="40" rx="20" fill="#94a3b8" stroke="#475569" stroke-width="2" />
                            
                            <!-- Flange -->
                            <rect x="420" y="280" width="10" height="40" fill="#64748b" stroke="#475569" stroke-width="1" />
                            
                            <!-- Valve -->
                            <rect x="430" y="285" width="30" height="30" rx="5" fill="#f59e0b" stroke="#d97706" stroke-width="1" />
                            <line x1="445" y1="285" x2="445" y2="315" stroke="#d97706" stroke-width="2" />
                        </g>
                        
                        <!-- Dimensions -->
                        <g class="dimension-layer">
                            <!-- Canal Width -->
                            <line x1="150" y1="140" x2="1050" y2="140" stroke="#475569" stroke-width="1" />
                            <line x1="150" y1="135" x2="150" y2="145" stroke="#475569" stroke-width="2" />
                            <line x1="1050" y1="135" x2="1050" y2="145" stroke="#475569" stroke-width="2" />
                            <text x="600" y="130" text-anchor="middle" fill="#475569" font-size="14" font-weight="bold">900.0 m</text>
                            
                            <!-- Canal Depth -->
                            <line x1="1100" y1="160" x2="1100" y2="410" stroke="#475569" stroke-width="1" />
                            <line x1="1095" y1="160" x2="1105" y2="160" stroke="#475569" stroke-width="2" />
                            <line x1="1095" y1="410" x2="1105" y2="410" stroke="#475569" stroke-width="2" />
                            <text x="1120" y="285" text-anchor="start" fill="#475569" font-size="14" font-weight="bold" transform="rotate(90 1120,285)">2.5 m</text>
                        </g>
                        
                        <!-- Pattern Definitions -->
                        <defs>
                            <!-- Concrete Pattern -->
                            <pattern id="concretePattern" patternUnits="userSpaceOnUse" width="100" height="100" patternTransform="rotate(0 0 0)">
                                <rect width="100" height="100" fill="#e5e7eb" />
                                <path d="M0,0 L100,100 M-20,20 L20,120 M80,0 L120,100" stroke="#9ca3af" stroke-width="2" opacity="0.3" />
                            </pattern>
                            
                            <!-- Concrete Aggregate -->
                            <pattern id="concreteAggregate" patternUnits="userSpaceOnUse" width="10" height="10" patternTransform="rotate(0 0 0)">
                                <rect width="10" height="10" fill="#f3f4f6"/>
                                <circle cx="2" cy="2" r="1" fill="#9ca3af" opacity="0.6" />
                                <circle cx="7" cy="8" r="1.2" fill="#9ca3af" opacity="0.6" />
                                <circle cx="5" cy="3" r="0.8" fill="#9ca3af" opacity="0.6" />
                                <circle cx="8" cy="5" r="1" fill="#9ca3af" opacity="0.6" />
                            </pattern>
                            
                            <!-- HDPE Pattern -->
                            <pattern id="hdpePattern" patternUnits="userSpaceOnUse" width="20" height="20" patternTransform="rotate(45 0 0)">
                                <rect width="20" height="20" fill="#0ea5e9" opacity="0.7" />
                                <rect x="0" y="0" width="10" height="10" fill="#38bdf8" opacity="0.5" />
                                <rect x="10" y="10" width="10" height="10" fill="#38bdf8" opacity="0.5" />
                            </pattern>
                            
                            <!-- Steel Pattern -->
                            <pattern id="steelPattern" patternUnits="userSpaceOnUse" width="20" height="20" patternTransform="rotate(0 0 0)">
                                <rect width="20" height="20" fill="#94a3b8" />
                                <line x1="0" y1="0" x2="20" y2="20" stroke="#64748b" stroke-width="1" opacity="0.5" />
                                <line x1="20" y1="0" x2="0" y2="20" stroke="#64748b" stroke-width="1" opacity="0.5" />
                            </pattern>
                            
                            <!-- Water Gradient -->
                            <linearGradient id="waterGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" stop-color="#0ea5e9" stop-opacity="0.8" />
                                <stop offset="50%" stop-color="#38bdf8" stop-opacity="0.9" />
                                <stop offset="100%" stop-color="#0ea5e9" stop-opacity="0.8" />
                            </linearGradient>
                            
                            <!-- Water Surface -->
                            <linearGradient id="waterSurface" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" stop-color="#38bdf8" stop-opacity="0.6" />
                                <stop offset="100%" stop-color="#0ea5e9" stop-opacity="0.3" />
                            </linearGradient>
                        </defs>
                    </svg>
                    
                    <!-- Annotations with leader lines -->
                    <div class="absolute top-40 left-80 bg-white px-3 py-2 rounded-lg shadow-md border border-gridline">
                        <p class="text-sm font-medium text-blueprint">Reinforced Concrete Structure</p>
                        <p class="text-xs text-gray-600">C35/45 with B500B reinforcement</p>
                    </div>
                    <svg class="absolute top-0 left-0 w-full h-full pointer-events-none">
                        <line x1="300" y1="250" x2="380" y2="210" stroke="#0b6faa" stroke-width="1" stroke-dasharray="4,2" class="annotation-line" />
                    </svg>
                    
                    <div class="absolute top-40 left-500 bg-white px-3 py-2 rounded-lg shadow-md border border-gridline">
                        <p class="text-sm font-medium text-accent">Automatic Regulation Gate</p>
                        <p class="text-xs text-gray-600">Stainless steel with electric actuator</p>
                    </div>
                    <svg class="absolute top-0 left-0 w-full h-full pointer-events-none">
                        <line x1="600" y1="250" x2="550" y2="210" stroke="#f59e0b" stroke-width="1" stroke-dasharray="4,2" class="annotation-line" />
                    </svg>
                    
                    <div class="absolute top-40 left-800 bg-white px-3 py-2 rounded-lg shadow-md border border-gridline">
                        <p class="text-sm font-medium text-blue-600">Ultrasonic Flow Meter</p>
                        <p class="text-xs text-gray-600">±1% accuracy, SCADA integrated</p>
                    </div>
                    <svg class="absolute top-0 left-0 w-full h-full pointer-events-none">
                        <line x1="780" y1="290" x2="800" y2="240" stroke="#3b82f6" stroke-width="1" stroke-dasharray="4,2" class="annotation-line" />
                    </svg>
                </div>
            </div>
        </div>
        
        <!-- Technical Specifications -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8 border border-gridline">
            <h3 class="text-xl font-semibold text-gray-800 mb-6 border-b border-gridline pb-3">Technical Specifications</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Structural Details -->
                <div class="section-view">
                    <h4 class="text-lg font-semibold text-blueprint mb-4">Structural Design Parameters</h4>
                    <table class="engineering-table">
                        <tr>
                            <th>Parameter</th>
                            <th>Value</th>
                        </tr>
                        <tr>
                            <td>Design Life</td>
                            <td>50 years</td>
                        </tr>
                        <tr>
                            <td>Concrete Grade</td>
                            <td>C35/45</td>
                        </tr>
                        <tr>
                            <td>Rebar Specification</td>
                            <td>B500B</td>
                        </tr>
                        <tr>
                            <td>Cover to Reinforcement</td>
                            <td>50 mm</td>
                        </tr>
                        <tr>
                            <td>Seismic Design</td>
                            <td>Zone 2A</td>
                        </tr>
                        <tr>
                            <td>Expansion Joint Spacing</td>
                            <td>20 m</td>
                        </tr>
                    </table>
                </div>
                
                <!-- Hydraulic Details -->
                <div class="section-view">
                    <h4 class="text-lg font-semibold text-blueprint mb-4">Hydraulic Design Parameters</h4>
                    <table class="engineering-table">
                        <tr>
                            <th>Parameter</th>
                            <th>Value</th>
                        </tr>
                        <tr>
                            <td>Design Flow Rate</td>
                            <td>5.2 m³/s</td>
                        </tr>
                        <tr>
                            <td>Velocity Range</td>
                            <td>0.8 - 1.5 m/s</td>
                        </tr>
                        <tr>
                            <td>Longitudinal Slope</td>
                            <td>0.0015 m/m</td>
                        </tr>
                        <tr>
                            <td>Manning's Coefficient</td>
                            <td>0.013</td>
                        </tr>
                        <tr>
                            <td>Freeboard</td>
                            <td>0.3 m</td>
                        </tr>
                        <tr>
                            <td>Lining Material</td>
                            <td>HDPE 2.5mm</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Drawing Metadata -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8 border border-gridline">
            <h3 class="text-xl font-semibold text-gray-800 mb-6 border-b border-gridline pb-3">Drawing Information</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <div>
                    <p class="text-sm text-gray-600">Project</p>
                    <p class="font-medium">Qatar Irrigation Network</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Drawing No</p>
                    <p class="font-medium">DOH-WRE-IC-2025-019</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Revision</p>
                    <p class="font-medium">B</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Date</p>
                    <p class="font-medium">Aug-18-2025</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Designed by</p>
                    <p class="font-medium">A. Rahman, M.Eng</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Checked by</p>
                    <p class="font-medium">M. Al-Sayed, Ph.D</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Approved by</p>
                    <p class="font-medium">K. Mohammed, P.Eng</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Scale</p>
                    <p class="font-medium">1:50</p>
                </div>
            </div>
        </div>



        <div class="section">
        <h2 class="section-title">Structural Specifications</h2>
        
        <div class="specs-grid">
          <div class="spec-card">
            <div class="spec-title">Canal Construction</div>
            <div class="spec-item">
              <span class="spec-label">Total Length:</span>
              <span class="spec-value">25.2 km</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Primary Material:</span>
              <span class="spec-value">Reinforced Concrete & HDPE</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Width:</span>
              <span class="spec-value">2.5m - 4.0m (variable)</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Depth:</span>
              <span class="spec-value">1.8m standard</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Slope Ratio:</span>
              <span class="spec-value">1:1.5 (H:V)</span>
            </div>
          </div>
          
          <div class="spec-card">
            <div class="spec-title">Pipeline System</div>
            <div class="spec-item">
              <span class="spec-label">Primary Lines:</span>
              <span class="spec-value">DN 400 - DN 800</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Secondary Lines:</span>
              <span class="spec-value">DN 150 - DN 300</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Material:</span>
              <span class="spec-value">Ductile Iron & HDPE</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Pressure Rating:</span>
              <span class="spec-value">PN 16 for mains</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Depth:</span>
              <span class="spec-value">1.2m minimum cover</span>
            </div>
          </div>
          
          <div class="spec-card">
            <div class="spec-title">Structures</div>
            <div class="spec-item">
              <span class="spec-label">Regulation Gates:</span>
              <span class="spec-value">32 units</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Culverts:</span>
              <span class="spec-value">18 structures</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Turnouts:</span>
              <span class="spec-value">45 units</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Flow Meters:</span>
              <span class="spec-value">Ultrasonic type</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Pumping Stations:</span>
              <span class="spec-value">3 stations</span>
            </div>
          </div>
        </div>
      </div>

        <div class="section">
        <h2 class="section-title">Implementation Timeline</h2>
        
        <div class="timeline">
          <div class="phase">
            <div class="phase-number">1</div>
            <div class="phase-title">Site Preparation</div>
            <div class="phase-duration">Month 1-2</div>
            <ul class="phase-tasks">
              <li>Surveying and marking</li>
              <li>Clearing and grubbing</li>
              <li>Mobilization of equipment</li>
              <li>Site establishment</li>
            </ul>
          </div>
          
          <div class="phase">
            <div class="phase-number">2</div>
            <div class="phase-title">Earthworks & Excavation</div>
            <div class="phase-duration">Month 2-5</div>
            <ul class="phase-tasks">
              <li>Mass excavation for canals</li>
              <li>Trenching for pipelines</li>
              <li>Compaction testing</li>
              <li>Subgrade preparation</li>
            </ul>
          </div>
          
          <div class="phase">
            <div class="phase-number">3</div>
            <div class="phase-title">Structural Works</div>
            <div class="phase-duration">Month 4-8</div>
            <ul class="phase-tasks">
              <li>Concrete canal lining</li>
              <li>HDPE membrane installation</li>
              <li>Pipe laying and jointing</li>
              <li>Structure construction</li>
            </ul>
          </div>
          
          <div class="phase">
            <div class="phase-number">4</div>
            <div class="phase-title">Mechanical & Electrical</div>
            <div class="phase-duration">Month 7-10</div>
            <ul class="phase-tasks">
              <li>Pump installation</li>
              <li>Gate actuator setup</li>
              <li>Control panel installation</li>
              <li>SCADA integration</li>
            </ul>
          </div>
          
          <div class="phase">
            <div class="phase-number">5</div>
            <div class="phase-title">Testing & Commissioning</div>
            <div class="phase-duration">Month 10-12</div>
            <ul class="phase-tasks">
              <li>Hydrostatic testing</li>
              <li>System calibration</li>
              <li>Performance verification</li>
              <li>Training and handover</li>
            </ul>
          </div>
        </div>

      </div>

            <div class="section">
        <h2 class="section-title">Quality Assurance</h2>
        <div class="card">
          <p>All construction activities will adhere to QCS 2014 (Qatar Construction Standards) and international best practices. Regular testing of materials and workmanship will be conducted throughout the project lifecycle.</p>
          
          <div class="specs-grid">
            <div class="spec-card">
              <div class="spec-title">Material Testing</div>
              <div class="spec-item">
                <span class="spec-label">Concrete:</span>
                <span class="spec-value">Slump tests, cube tests</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">Soil:</span>
                <span class="spec-value">Proctor tests, density checks</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">Steel:</span>
                <span class="spec-value">Tensile strength verification</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">Pipes:</span>
                <span class="spec-value">Pressure testing, joint integrity</span>
              </div>
            </div>
            
            <div class="spec-card">
              <div class="spec-title">Performance Verification</div>
              <div class="spec-item">
                <span class="spec-label">Flow Rates:</span>
                <span class="spec-value">Meeting design specifications</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">Leakage:</span>
                <span class="spec-value">Less than 2% of total flow</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">Structural Integrity:</span>
                <span class="spec-value">No settlement or deformation</span>
              </div>
              <div class="spec-item">
                <span class="spec-label">System Control:</span>
                <span class="spec-value">Fully automated operation</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 px-6 mt-8 no-print">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <h3 class="text-lg font-semibold">Ministry of Municipality & Environment</h3>
                <p class="text-gray-400">Department of Water Resources & Environmental Engineering</p>
            </div>
            <div class="text-sm text-gray-400">
                <p>Doha, Qatar | Document Version: 2.1</p>
                <p>© 2025 All Rights Reserved</p>
            </div>
        </div>
    </footer>

    <!-- Detail View Modal -->
    <div class="detail-view" id="detailView">
        <div class="bg-white rounded-xl shadow-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-auto border border-gridline">
            <div class="flex justify-between items-center mb-6 border-b border-gridline pb-4">
                <h3 class="text-2xl font-bold text-gray-800" id="detailTitle">Component Details</h3>
                <button class="text-gray-500 hover:text-gray-700" onclick="closeDetailView()">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            <div id="detailContent">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Layer Panel -->
    <div class="layer-panel no-print" id="layerPanel" style="display: none;">
        <h4 class="font-semibold mb-3 text-blueprint">Layer Visibility</h4>
        <div class="space-y-2">
            <label class="flex items-center">
                <input type="checkbox" checked class="mr-2" data-layer="structural">
                <span>Structural Elements</span>
            </label>
            <label class="flex items-center">
                <input type="checkbox" checked class="mr-2" data-layer="hydraulic">
                <span>Hydraulic Elements</span>
            </label>
            <label class="flex items-center">
                <input type="checkbox" checked class="mr-2" data-layer="annotations">
                <span>Annotations</span>
            </label>
            <label class="flex items-center">
                <input type="checkbox" checked class="mr-2" data-layer="dimensions">
                <span>Dimensions</span>
            </label>
        </div>
    </div>

    <!-- Download Options -->
    <div class="download-options no-print" id="downloadOptions" style="display: none;">
        <h4 class="font-semibold mb-3 text-blueprint">Export Drawing</h4>
        <div class="space-y-2">
            <button class="w-full text-left py-2 px-3 hover:bg-gray-100 rounded" onclick="exportAsPNG()">
                <i class="fas fa-download mr-2"></i> PNG Image
            </button>
            <button class="w-full text-left py-2 px-3 hover:bg-gray-100 rounded" onclick="exportAsSVG()">
                <i class="fas fa-download mr-2"></i> SVG Vector
            </button>
            <button class="w-full text-left py-2 px-3 hover:bg-gray-100 rounded" onclick="exportAsPDF()">
                <i class="fas fa-file-pdf mr-2"></i> PDF Document
            </button>
        </div>
    </div>


  <style>
    :root {
      --primary: #0b6faa;
      --primary-dark: #084b75;
      --secondary: #0d9270;
      --text: #1e293b;
      --muted: #475569;
      --border: #e2e8f0;
      --bg: #ffffff;
      --light-bg: #f8fafc;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      line-height: 1.6;
      color: var(--text);
      background-color: #f6f7fb;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: var(--bg);
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(2, 8, 23, 0.1);
      overflow: hidden;
    }
    
    header {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      padding: 25px 30px;
      position: relative;
      overflow: hidden;
    }
    
    .watermark {
      position: absolute;
      top: 20px;
      right: 20px;
      opacity: 0.1;
      font-size: 80px;
      font-weight: 900;
      transform: rotate(15deg);
    }
    
    h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }
    
    .subtitle {
      font-size: 18px;
      opacity: 0.9;
      margin-bottom: 15px;
    }
    
    .project-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
    }
    
    .info-item {
      display: flex;
      flex-direction: column;
    }
    
    .info-label {
      font-size: 12px;
      text-transform: uppercase;
      opacity: 0.8;
      margin-bottom: 5px;
    }
    
    .info-value {
      font-weight: 600;
      font-size: 16px;
    }
    
    .content {
      padding: 30px;
    }
    
    .section {
      margin-bottom: 40px;
    }
    
    .section-title {
      font-size: 20px;
      color: var(--primary);
      padding-bottom: 10px;
      border-bottom: 2px solid var(--border);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
    }
    
    .section-title::before {
      content: "";
      display: inline-block;
      width: 12px;
      height: 12px;
      background: var(--primary);
      border-radius: 50%;
      margin-right: 12px;
    }
    
    .card {
      background: var(--light-bg);
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 4px solid var(--primary);
    }
    
    .card-title {
      font-size: 18px;
      color: var(--primary-dark);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }
    
    .card-title i {
      margin-right: 10px;
      font-size: 20px;
    }
    
    .specs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 25px;
    }
    
    .spec-card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      border-top: 3px solid var(--secondary);
    }
    
    .spec-title {
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border);
    }
    
    .spec-item {
      margin-bottom: 12px;
      display: flex;
    }
    
    .spec-label {
      font-weight: 600;
      min-width: 150px;
      color: var(--muted);
    }
    
    .spec-value {
      flex: 1;
    }
    
    .visualization {
      background: var(--light-bg);
      border-radius: 10px;
      padding: 20px;
      margin: 30px 0;
      text-align: center;
    }
    
    .canal-diagram {
      width: 100%;
      height: 300px;
      background: linear-gradient(180deg, #e0f2fe 0%, #bae6fd 100%);
      border-radius: 8px;
      position: relative;
      margin: 20px auto;
      overflow: hidden;
      border: 1px solid #bae6fd;
    }
    
    .canal {
      position: absolute;
      bottom: 50px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 120px;
      background: #7dd3fc;
      border: 2px solid #0ea5e9;
      border-bottom: none;
      border-radius: 10px 10px 0 0;
    }
    
    .water {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 80%;
      background: #0ea5e9;
      opacity: 0.7;
    }
    
    .canal-lining {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 20%;
      background: #cbd5e1;
    }
    
    .pipeline {
      position: absolute;
      bottom: 20px;
      left: 15%;
      width: 60px;
      height: 60px;
      background: #94a3b8;
      border-radius: 50%;
      border: 3px solid #64748b;
    }
    
    .structure {
      position: absolute;
      bottom: 50px;
      right: 20%;
      width: 40px;
      height: 70px;
      background: #f59e0b;
    }
    
    .timeline {
      display: flex;
      margin: 30px 0;
      overflow-x: auto;
      padding-bottom: 20px;
    }
    
    .phase {
      min-width: 200px;
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-right: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
      border-top: 4px solid var(--primary);
    }
    
    .phase-number {
      width: 40px;
      height: 40px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      margin-bottom: 15px;
    }
    
    .phase-title {
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--primary-dark);
    }
    
    .phase-duration {
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 15px;
    }
    
    .phase-tasks {
      font-size: 14px;
    }
    
    .phase-tasks li {
      margin-bottom: 8px;
      position: relative;
      padding-left: 15px;
    }
    
    .phase-tasks li::before {
      content: "•";
      position: absolute;
      left: 0;
      color: var(--primary);
    }
    
    footer {
      background: var(--light-bg);
      padding: 20px 30px;
      text-align: center;
      border-top: 1px solid var(--border);
      font-size: 14px;
      color: var(--muted);
    }
    
    .approval-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-top: 40px;
    }
    
    .approval-card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    }
    
    .approval-title {
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border);
    }
    
    .signature-line {
      margin-top: 60px;
      border-top: 1px solid var(--muted);
      padding-top: 10px;
    }
    
    @media (max-width: 768px) {
      .specs-grid {
        grid-template-columns: 1fr;
      }
      
      .project-info {
        grid-template-columns: 1fr;
      }
      
      .approval-section {
        grid-template-columns: 1fr;
      }
    }
  </style>

    <script>
        // Initialize GSAP animations
        document.addEventListener('DOMContentLoaded', function() {
            // Animate drawing elements on load
            gsap.from('.engineering-drawing', {
                duration: 1.5,
                opacity: 0,
                y: 30,
                ease: 'power3.out'
            });
            
            // Animate water flow
            gsap.to('.water-flow', {
                duration: 15,
                repeat: -1,
                attr: { 'stroke-dashoffset': 200 },
                ease: 'none'
            });
            
            // Animate annotation lines
            gsap.to('.annotation-line', {
                duration: 20,
                repeat: -1,
                attr: { 'stroke-dashoffset': 200 },
                ease: 'none'
            });
            
            // Layer toggle functionality
            document.querySelectorAll('.layer-toggle').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const layer = this.getAttribute('data-layer');
                    const opacity = this.checked ? 1 : 0;
                    
                    gsap.to(`.${layer}-layer`, {
                        duration: 0.3,
                        opacity: opacity,
                        ease: 'power1.inOut'
                    });
                });
            });
            
            // Add interactive element functionality
            document.querySelectorAll('.element-highlight').forEach(element => {
                element.addEventListener('click', function() {
                    showElementDetails(this.id);
                });
            });
            
            // Tool buttons functionality
            document.getElementById('layersTool').addEventListener('click', function() {
                const panel = document.getElementById('layerPanel');
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            });
            
            document.getElementById('measureTool').addEventListener('click', function() {
                alert('Measurement tool activated. Click on two points to measure distance.');
                // Measurement functionality would be implemented here
            });
        });
        
        // Print function
        function printDrawing() {
            window.print();
        }
        
        // Zoom functions
        let currentScale = 1;
        function zoomIn() {
            if (currentScale < 2) {
                currentScale += 0.1;
                document.getElementById('mainDrawing').style.transform = `scale(${currentScale})`;
            }
        }
        
        function zoomOut() {
            if (currentScale > 0.5) {
                currentScale -= 0.1;
                document.getElementById('mainDrawing').style.transform = `scale(${currentScale})`;
            }
        }
        
        function resetZoom() {
            currentScale = 1;
            document.getElementById('mainDrawing').style.transform = 'scale(1)';
        }
        
        // Show element details
        function showElementDetails(elementId) {
            const detailView = document.getElementById('detailView');
            const detailTitle = document.getElementById('detailTitle');
            const detailContent = document.getElementById('detailContent');
            
            // Based on the element ID, show different content
            switch(elementId) {
                case 'canalWalls':
                    detailTitle.textContent = 'Canal Walls - Structural Details';
                    detailContent.innerHTML = `
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-semibold text-lg text-blueprint">Structural Design</h4>
                                <p>Reinforced concrete walls designed to withstand hydraulic pressure, soil loads, and seismic forces.</p>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <p class="text-sm text-gray-600">Thickness</p>
                                    <p class="font-medium">400 mm</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Concrete Grade</p>
                                    <p class="font-medium">C35/45</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Rebar Specification</p>
                                    <p class="font-medium">B500B, Ø16@150mm</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Cover to Reinforcement</p>
                                    <p class="font-medium">50 mm</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Design Life</p>
                                    <p class="font-medium">50 years</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Crack Width Limit</p>
                                    <p class="font-medium">0.2 mm</p>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-semibold text-lg text-blueprint mt-6">Load Considerations</h4>
                                <ul class="list-disc pl-5 space-y-2">
                                    <li>Hydrostatic pressure: 25 kN/m²</li>
                                    <li>Earth pressure: 45 kN/m²</li>
                                    <li>Seismic load: Zone 2A per QCS 2014</li>
                                    <li>Construction load: 10 kN/m²</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'regulationGate':
                    detailTitle.textContent = 'Regulation Gate - Technical Specifications';
                    detailContent.innerHTML = `
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-semibold text-lg text-blueprint">Control Mechanism</h4>
                                <p>Stainless steel gate with electric actuator for precise flow control. Designed for automatic operation with manual override capability.</p>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <p class="text-sm text-gray-600">Material</p>
                                    <p class="font-medium">Stainless Steel 316</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Opening Size</p>
                                    <p class="font-medium">500 mm</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Actuator Type</p>
                                    <p class="font-medium">Electric, 24V DC</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Control System</p>
                                    <p class="font-medium">SCADA Integrated</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Operation Speed</p>
                                    <p class="font-medium">50 mm/sec</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600">Position Feedback</p>
                                    <p class="font-medium">4-20 mA analog</p>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-semibold text-lg text-blueprint mt-6">Performance Specifications</h4>
                                <ul class="list-disc pl-5 space-y-2">
                                    <li>Leakage rate: &lt; 0.1% of maximum flow</li>
                                    <li>Maximum head: 3.5 m</li>
                                    <li>Operating temperature: -10°C to +60°C</li>
                                    <li>Protection rating: IP68</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                    
                // Add more cases for other elements
                
                default:
                    detailTitle.textContent = 'Component Details';
                    detailContent.innerHTML = `<p>Detailed information about this component.</p>`;
            }
            
            detailView.classList.add('active');
        }
        
        function closeDetailView() {
            document.getElementById('detailView').classList.remove('active');
        }
        
        // Export functions (placeholder implementations)
        function exportAsPNG() {
            alert('Exporting as PNG would be implemented here');
        }
        
        function exportAsSVG() {
            alert('Exporting as SVG would be implemented here');
        }
        
        function exportAsPDF() {
            alert('Exporting as PDF would be implemented here');
        }
    </script>
</body>
</html>